{"version":3,"file":"static/js/32.1a168b51.chunk.js","mappings":"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","sources":["Images/grayClock.svg","Images/nextIcon.svg","webpack://itec_project/./src/components/common/modals/SuccessOrderModal/SuccessOrderModal.module.scss?ebdb","components/common/modals/SuccessOrderModal/SuccessOrderModal.tsx","helpers/getGoods.ts","helpers/getPrice.ts","webpack://itec_project/./src/pages/CheckoutPage/CheckoutPage.module.scss?ec36","pages/CheckoutPage/CheckoutPage.tsx","redux/selectors/discountForBasket.ts","webpack://itec_project/./src/styles/common/NavigationBlock.module.scss?5bd6"],"sourcesContent":["var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgGrayClock(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M8.0001 14.4001C4.4713 14.4001 1.6001 11.5289 1.6001 8.0001C1.6001 4.4713 4.4713 1.6001 8.0001 1.6001C11.5289 1.6001 14.4001 4.4713 14.4001 8.0001C14.4001 11.5289 11.5289 14.4001 8.0001 14.4001ZM9.8345 10.6345C9.6297 10.6345 9.4249 10.5561 9.2689 10.4001L7.4345 8.5657C7.2841 8.4161 7.2001 8.2121 7.2001 8.0001V4.8001C7.2001 4.3585 7.5577 4.0001 8.0001 4.0001C8.4425 4.0001 8.8001 4.3585 8.8001 4.8001V7.6689L10.4001 9.2689C10.7129 9.5817 10.7129 10.0873 10.4001 10.4001C10.2441 10.5561 10.0393 10.6345 9.8345 10.6345Z\",\n    fill: \"#8C9196\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgGrayClock);\nexport default __webpack_public_path__ + \"static/media/grayClock.a91a31f829938b1a39bc74d1c8b7d7df.svg\";\nexport { ForwardRef as ReactComponent };","var _path;\n\nvar _excluded = [\"title\", \"titleId\"];\n\nfunction _extends() { _extends = Object.assign ? Object.assign.bind() : function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; }; return _extends.apply(this, arguments); }\n\nfunction _objectWithoutProperties(source, excluded) { if (source == null) return {}; var target = _objectWithoutPropertiesLoose(source, excluded); var key, i; if (Object.getOwnPropertySymbols) { var sourceSymbolKeys = Object.getOwnPropertySymbols(source); for (i = 0; i < sourceSymbolKeys.length; i++) { key = sourceSymbolKeys[i]; if (excluded.indexOf(key) >= 0) continue; if (!Object.prototype.propertyIsEnumerable.call(source, key)) continue; target[key] = source[key]; } } return target; }\n\nfunction _objectWithoutPropertiesLoose(source, excluded) { if (source == null) return {}; var target = {}; var sourceKeys = Object.keys(source); var key, i; for (i = 0; i < sourceKeys.length; i++) { key = sourceKeys[i]; if (excluded.indexOf(key) >= 0) continue; target[key] = source[key]; } return target; }\n\nimport * as React from \"react\";\n\nfunction SvgNextIcon(_ref, svgRef) {\n  var title = _ref.title,\n      titleId = _ref.titleId,\n      props = _objectWithoutProperties(_ref, _excluded);\n\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 7,\n    height: 13,\n    viewBox: \"0 0 7 13\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    fillRule: \"evenodd\",\n    clipRule: \"evenodd\",\n    d: \"M0.999762 12.1299C0.743762 12.1299 0.487762 12.0319 0.292762 11.8369C-0.0982383 11.4459 -0.0982383 10.8139 0.292762 10.4229L4.58576 6.12989L0.292762 1.83689C-0.0982383 1.44589 -0.0982383 0.813889 0.292762 0.422889C0.683762 0.0318887 1.31576 0.0318887 1.70676 0.422889L6.70676 5.42289C7.09776 5.81389 7.09776 6.44589 6.70676 6.83689L1.70676 11.8369C1.51176 12.0319 1.25576 12.1299 0.999762 12.1299Z\",\n    fill: \"#5C5F62\"\n  })));\n}\n\nvar ForwardRef = /*#__PURE__*/React.forwardRef(SvgNextIcon);\nexport default __webpack_public_path__ + \"static/media/nextIcon.ea3f754bfb77deca234e32afc5fad610.svg\";\nexport { ForwardRef as ReactComponent };","// extracted by mini-css-extract-plugin\nexport default {\"successModalContainer\":\"SuccessOrderModal_successModalContainer__nbAJY\",\"title\":\"SuccessOrderModal_title__cXhcQ\",\"scheduleBlock\":\"SuccessOrderModal_scheduleBlock__qNFE5\",\"headerStrip\":\"SuccessOrderModal_headerStrip__hmm4D\"};","import React, { ReactElement } from 'react';\r\nimport checkmarkCircle from '../../../../Images/checkmarkCircle.svg';\r\nimport Address from '../../Address/Address';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { routesPathsEnum } from '../../../../routes/enums';\r\nimport style from './SuccessOrderModal.module.scss';\r\nimport scheduleStyle from '../../Schedule/Schedule.module.scss';\r\nimport grayClock from '../../../../Images/grayClock.svg';\r\nimport { location } from '../../../../enums';\r\nimport { setOneClickOrderRequestStatus, setOrderRequestStatus } from '../../../../redux/reducers/app';\r\nimport { RequestStatus } from '../../../../redux/reducers/enums';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { AppDispatch } from '../../../../redux/store';\r\nimport { getInfo } from '../../../../redux/selectors/descriptionShop';\r\nimport { SuccessOrderModalPropsType } from '../types';\r\n\r\nconst SuccessOrderModal = ( { from }: SuccessOrderModalPropsType ): ReactElement => {\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n  const { metro, address } = useSelector( getInfo );\r\n  const onCloseButtonClick = () => {\r\n    if ( from === location.ONE_CLICK_ORDER ) dispatch( setOneClickOrderRequestStatus( { status: RequestStatus.IDLE } ) );\r\n    if ( from === location.CHECKOUT ) dispatch( setOrderRequestStatus( { status: RequestStatus.IDLE } ) );\r\n    navigate( routesPathsEnum.ARTICLES );\r\n  };\r\n\r\n  return (\r\n    <div className={ style.successModalContainer }>\r\n      <img src={ checkmarkCircle } loading={'lazy'} alt=\"checkmarkCircle\"/>\r\n      <div className={ style.title }>\r\n        <h3>Заказ поступил в обработку, ожидайте звонка консультанта</h3>\r\n      </div>\r\n      <Address address={ address } metro={ metro }/>\r\n      <div className={ style.scheduleBlock }>\r\n        <img src={ grayClock } loading={'lazy'} alt={ 'timeIcon' }/>\r\n        <p className={ scheduleStyle.scheduleText }>Пон.-Пят. 10:00-21:00</p>\r\n        <div className={ style.headerStrip }/>\r\n        <p>Суб.-Вос. 10:00-20:00</p>\r\n      </div>\r\n      <button onClick={ onCloseButtonClick }>Читать полезные статьи</button>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default SuccessOrderModal;","/*this feature is used to correctly display a word item with different number of products in the basket*/\r\nexport const getGoods = ( countOfGoods: number ) => {\r\n  if ( countOfGoods === 11 || countOfGoods === 12 || countOfGoods === 13 || countOfGoods === 14 ) {\r\n    return 'товаров';\r\n  } else {\r\n    const array = String( countOfGoods ).split( '' );\r\n    const lastNumber = array[ array.length - 1 ];\r\n    switch ( +lastNumber ) {\r\n      case 0: {\r\n        return 'товаров';\r\n      }\r\n      case 1: {\r\n        return 'товар';\r\n      }\r\n      case 2: {\r\n        return 'товара';\r\n      }\r\n      case 3: {\r\n        return 'товара';\r\n      }\r\n      case 4: {\r\n        return 'товара';\r\n      }\r\n      case 5: {\r\n        return 'товаров';\r\n      }\r\n      case 6: {\r\n        return 'товаров';\r\n      }\r\n      case 7: {\r\n        return 'товаров';\r\n      }\r\n      case 8: {\r\n        return 'товаров';\r\n      }\r\n      case 9: {\r\n        return 'товаров';\r\n      }\r\n      default:\r\n        return 'товаров';\r\n    }\r\n  }\r\n};","/*these features are used to display correct price*/\r\nexport const getPrice = ( price: number ) => {\r\n  if ( price % 1 === 0 ) return price;\r\n  else return price.toFixed( 2 );\r\n};\r\nexport const getPriceForBasket = ( price: number ) => {\r\n  if ( price % 1 === 0 ) return Math.ceil(price);\r\n  else return price;\r\n};","// extracted by mini-css-extract-plugin\nexport default {\"checkoutPage\":\"CheckoutPage_checkoutPage__SosiJ\",\"checkoutBlock\":\"CheckoutPage_checkoutBlock__cmG2c\",\"formBlock\":\"CheckoutPage_formBlock__DKai2\",\"list\":\"CheckoutPage_list__vxPH4\",\"address\":\"CheckoutPage_address__o4+Bv\",\"basketInfo\":\"CheckoutPage_basketInfo__p0O96\",\"sum\":\"CheckoutPage_sum__mh6vT\",\"discountSum\":\"CheckoutPage_discountSum__pYRmC\",\"productsInfo\":\"CheckoutPage_productsInfo__3CPUO\",\"orderBlock\":\"CheckoutPage_orderBlock__X-j1s\",\"orderBtn\":\"CheckoutPage_orderBtn__9Ed8C\"};","import React, { useEffect, useState } from 'react';\r\nimport nextIcon from '../../Images/nextIcon.svg';\r\nimport style from './CheckoutPage.module.scss';\r\nimport { useFormik } from 'formik';\r\nimport navigationStyle from '../../styles/common/NavigationBlock.module.scss';\r\nimport formStyle from '../../styles/common/Form.module.scss';\r\nimport Modal from '../../components/common/modals/Modal';\r\nimport SuccessOrderModal from '../../components/common/modals/SuccessOrderModal/SuccessOrderModal';\r\nimport { useNavigate } from 'react-router-dom';\r\nimport { routesPathsEnum } from '../../routes/enums';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport {\r\n  getProductsInBasket,\r\n  getTotalProductsCount,\r\n  getTotalSum,\r\n  getTotalSumWithDiscount,\r\n} from '../../redux/selectors/basket';\r\nimport { sendOrderTC } from '../../redux/reducers/basket';\r\nimport { AppDispatch } from '../../redux/store';\r\nimport { getOrderRequestStatus } from '../../redux/selectors/app';\r\nimport { RequestStatus } from '../../redux/reducers/enums';\r\nimport { setOrderRequestStatus } from '../../redux/reducers/app';\r\nimport { location } from '../../enums';\r\nimport { getPriceForBasket } from '../../helpers/getPrice';\r\nimport { getGoods } from '../../helpers/getGoods';\r\nimport { FormikErrorType } from '../../components/common/modals/types';\r\nimport PrivacyPolicyModal from '../../components/common/modals/PrivacyPolicyModal/PrivacyPolicyModal';\r\nimport { getDiscountsForBasket } from '../../redux/selectors/discountForBasket';\r\n\r\nconst CheckoutPage = React.memo( () => {\r\n\r\n  const [ isSuccessModalActive, setIsSuccessModalActive ] = useState( false );\r\n  const [ isPrivacyModalActive, setIsPrivacyModalActive ] = useState<boolean>( false );\r\n  const orderIsSucceeded = useSelector( getOrderRequestStatus ) === RequestStatus.SUCCEEDED;\r\n  const basketCountWithDiscount = useSelector( getTotalSumWithDiscount );\r\n  const basketCount = useSelector( getTotalSum );\r\n  const productsCount = useSelector( getTotalProductsCount );\r\n  const productsInBasket = useSelector( getProductsInBasket );\r\n  const priceWithDiscount = getPriceForBasket( basketCountWithDiscount );\r\n  const discountForBasket = useSelector( getDiscountsForBasket );\r\n  const price = getPriceForBasket( basketCount );\r\n  const goodsName = getGoods( productsCount );\r\n  const orderInfo = { productsInBasket, productsCount, basketCount, basketCountWithDiscount };\r\n\r\n  const navigate = useNavigate();\r\n  const dispatch = useDispatch<AppDispatch>();\r\n\r\n  const closeSuccessModal = () => {\r\n    dispatch( setOrderRequestStatus( { status: RequestStatus.IDLE } ) );\r\n    navigate( routesPathsEnum.ARTICLES );\r\n    setIsSuccessModalActive( false );\r\n  };\r\n  const closePrivacyPolicyModal = () => {\r\n    setIsPrivacyModalActive( false );\r\n  };\r\n  const openPrivacyPolicyModal = () => {\r\n    setIsPrivacyModalActive( true );\r\n  };\r\n\r\n  useEffect( () => {\r\n    if ( isSuccessModalActive && orderIsSucceeded ) {\r\n      window.document.body.style.overflow = 'hidden';\r\n    }\r\n    return () => {\r\n      window.document.body.style.overflow = '';\r\n    };\r\n  }, [ isSuccessModalActive, orderIsSucceeded ] );\r\n\r\n  const formik = useFormik( {\r\n    initialValues: {\r\n      name: '',\r\n      phoneNumber: '',\r\n    },\r\n    validate: ( values ) => {\r\n      const errors: FormikErrorType = {};\r\n      if ( values.name.length < 2 ) {\r\n        errors.name = 'Поле обязательно для заполнения';\r\n      }\r\n      if ( !values.phoneNumber ) {\r\n        errors.phoneNumber = 'Обязательно';\r\n      } else if ( values.phoneNumber.length !== 13 ) {\r\n        errors.phoneNumber = 'Должно быть 13 символов';\r\n      } else if ( !/([+]375(29|25|33|44)[0-9]{7})/i.test( values.phoneNumber ) ) {\r\n        errors.phoneNumber = 'Введите, пожалуйста, номер в формате +375291234567';\r\n      }\r\n      return errors;\r\n    },\r\n    onSubmit: value => {\r\n      try {\r\n        dispatch( sendOrderTC( { name: value.name, phoneNumber: value.phoneNumber, orderInfo, discountForBasket } ) );\r\n        setIsSuccessModalActive( true );\r\n        formik.resetForm();\r\n      } catch ( e ) {\r\n        console.error( e );\r\n      }\r\n\r\n    },\r\n  } );\r\n  return (\r\n    <div className={ style.checkoutPage }>\r\n      <div className={ navigationStyle.navigationBlock }>\r\n        <div className={ navigationStyle.navigationBlockWrapper }>\r\n          <p onClick={ () => navigate( routesPathsEnum.MAIN ) }>Главная</p>\r\n          <img src={ nextIcon } loading={ 'lazy' } alt=\"nextIcon\"/>\r\n          <p onClick={ () => navigate( routesPathsEnum.BASKET ) }>Корзина</p>\r\n          <img src={ nextIcon } loading={ 'lazy' } alt=\"nextIcon\"/>\r\n          <p>Оформление заказа</p>\r\n        </div>\r\n      </div>\r\n      <div className={ style.checkoutBlock }>\r\n        <h1>Оформление заказа</h1>\r\n        <form className={ style.formBlock } onSubmit={ formik.handleSubmit }>\r\n          <div className={ formStyle.formInfo }>\r\n            <div className={ formStyle.formInput }>\r\n              <p>Имя</p>\r\n              <input\r\n                type={ 'name' }\r\n                placeholder={ 'Иванов Иван Иванович' }\r\n                { ...formik.getFieldProps( 'name' ) }\r\n              />\r\n              { formik.touched.name && formik.errors.name &&\r\n                <span>{ formik.errors.name }</span>\r\n              }\r\n            </div>\r\n            <div className={ formStyle.formInput }>\r\n              <p>Номер телефона</p>\r\n              <input\r\n                type={ 'phoneNumber' }\r\n                placeholder={ '+375291234567' }\r\n                { ...formik.getFieldProps( 'phoneNumber' ) }\r\n              />\r\n              { formik.touched.phoneNumber && formik.errors.phoneNumber &&\r\n                <span>{ formik.errors.phoneNumber }</span>\r\n              }\r\n            </div>\r\n            <div className={ style.list }>\r\n              <div className={ style.address }>Самовывоз по адресу: Минск, ул. Чюрлёниса, 6.\r\n                <span/>\r\n              </div>\r\n              <div>Оплата любым способом при получении\r\n                <span/>\r\n              </div>\r\n            </div>\r\n            <div className={ style.basketInfo }>\r\n              <p className={ priceWithDiscount !== price ? style.discountSum : style.sum }>{ price } BYN</p>\r\n              { priceWithDiscount !== price && <p className={ style.sum }>{ priceWithDiscount } BYN</p> }\r\n              <p className={ style.productsInfo }>{ productsCount } { goodsName }</p>\r\n            </div>\r\n          </div>\r\n          <div className={ style.orderBlock }>\r\n            <button className={ style.orderBtn } type=\"submit\">Заказать</button>\r\n            <p>Нажимая на кнопку вы даёте согласие на обработку <span onClick={ openPrivacyPolicyModal }>персональных данных</span>\r\n            </p>\r\n          </div>\r\n        </form>\r\n      </div>\r\n      { isSuccessModalActive && orderIsSucceeded &&\r\n        <Modal closeModal={ closeSuccessModal }>\r\n          <SuccessOrderModal from={ location.CHECKOUT }/>\r\n        </Modal>\r\n      }\r\n      { isPrivacyModalActive &&\r\n        <Modal closeModal={ closePrivacyPolicyModal }>\r\n          <PrivacyPolicyModal closePrivacyPolicyModal={ closePrivacyPolicyModal }/>\r\n        </Modal> }\r\n    </div>\r\n  );\r\n} );\r\n\r\nexport default CheckoutPage;","import { AppRootStateType } from '../store';\r\nimport { DiscountType } from '../../types';\r\n\r\nexport const getDiscountsForBasket = ( state: AppRootStateType ): Array<DiscountType> => state.discountForBasket.discount;\r\n","// extracted by mini-css-extract-plugin\nexport default {\"navigationBlock\":\"NavigationBlock_navigationBlock__CC9k9\",\"navigationBlockWrapper\":\"NavigationBlock_navigationBlockWrapper__rYVve\"};"],"names":["from","navigate","useNavigate","dispatch","useDispatch","useSelector","getInfo","metro","address","className","style","src","checkmarkCircle","loading","alt","Address","grayClock","scheduleStyle","onClick","location","setOneClickOrderRequestStatus","status","RequestStatus","setOrderRequestStatus","routesPathsEnum","getGoods","countOfGoods","array","String","split","length","getPrice","price","toFixed","getPriceForBasket","Math","ceil","React","useState","isSuccessModalActive","setIsSuccessModalActive","isPrivacyModalActive","setIsPrivacyModalActive","orderIsSucceeded","getOrderRequestStatus","basketCountWithDiscount","getTotalSumWithDiscount","basketCount","getTotalSum","productsCount","getTotalProductsCount","productsInBasket","getProductsInBasket","priceWithDiscount","discountForBasket","getDiscountsForBasket","goodsName","orderInfo","closePrivacyPolicyModal","useEffect","window","document","body","overflow","formik","useFormik","initialValues","name","phoneNumber","validate","values","errors","test","onSubmit","value","sendOrderTC","resetForm","e","console","error","navigationStyle","nextIcon","handleSubmit","formStyle","type","placeholder","getFieldProps","touched","Modal","closeModal","SuccessOrderModal","PrivacyPolicyModal","state","discount"],"sourceRoot":""}